---
title: "Data Validation for MEData"
author: "Shira Salingre"
date: "2019 Feb 20"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(skimr)
library(tidyverse)
library(plotly)
library(wesanderson)
medata <- read.csv("all_uvc_data_25-02-19.csv")
medata$X.1 <- NULL
medata$X <- NULL

```

medata here is the Mediterranean dataframe with the following changes:

* data.origin: “Sala - PEW” to “sala_pew”
* There are some latitudes that equal integers (1,2,3…)
* protection: 35460 replacements for YES in 1; 16278 replacements for NO in 0; 637 replacements of #N/A in NA.

Some more work needed:

- sort out caps and spaces: site names; spp names (also parentheses);  season; 
- species names need to be all changed to genus.spp now some with caps and some with spaces
- spp length in cm I guess?
- should we delete the first column?	

# General overview

```{r}
medata %>%
	skimr::skim()
```

- Country can be completed from data origin? I need a list of what each one means
- Protection: fix #N/A
- Spcecies: I would like to group into local and non-local (for comparison later)
- Lat: South ~30.276670; North ~45.137447 (should be) we have some that are too low (in the following)
- Lon: West ~ -5.587321; East ~35.110782
- what's A and B?


```{r message=FALSE, warning=FALSE}
summary(medata$lat)

medata %>% 
  filter(lat < 30) %>% 
  write.csv(file = "lat_probs.csv")
```

# Location and Max Temp

```{r}
p1 <- ggplot(medata, aes(x = medata$lon, y = medata$lat)) +
  geom_jitter(aes(colour = medata$tmax), show.legend = T) +
  xlab("Longitude") + ylab("Latitude") +
  scale_color_gradient(name = "Max Annual Temp", low = "#3c9ab1", high = "#f22300", na.value = "#899da4")

ggplotly(p1)

```






